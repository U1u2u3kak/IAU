<!DOCTYPE html>
<html lang="ar">
<head>
    <script src="https://fpyf8.com/88/tag.min.js" data-zone="160468" async data-cfasync="false"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø«Ø¹Ø¨Ø§Ù† Ù„Ù„Ø¬ÙˆØ§Ù„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            touch-action: manipulation;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            height: 100vh;
            display: flex;
            flex-direction: column;
            color: #fff;
            direction: rtl;
            overflow: hidden;
        }
        
        .header {
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            text-align: center;
            border-bottom: 2px solid #ffcc00;
        }
        
        .title {
            font-size: 1.5rem;
            color: #ffcc00;
            margin-bottom: 5px;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            padding: 5px 0;
        }
        
        .stat-box {
            background: rgba(255, 204, 0, 0.15);
            padding: 8px 12px;
            border-radius: 20px;
            text-align: center;
            min-width: 80px;
        }
        
        .stat-label {
            font-size: 0.8rem;
            opacity: 0.8;
        }
        
        .stat-value {
            font-size: 1.4rem;
            font-weight: bold;
            color: #ffcc00;
        }
        
        .game-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
        }
        
        #gameCanvas {
            background: #000;
            border: 3px solid #ffcc00;
            border-radius: 10px;
            max-width: 100%;
            max-height: 70vh;
            aspect-ratio: 1/1;
        }
        
        .controls-bottom {
            background: rgba(0, 0, 0, 0.85);
            padding: 15px 10px;
            border-top: 2px solid #ffcc00;
        }
        
        .main-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .btn {
            background: linear-gradient(to bottom, #ffcc00, #ff9900);
            color: #000;
            border: none;
            padding: 12px 5px;
            font-size: 0.9rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 60px;
        }
        
        .btn i {
            font-size: 1.4rem;
            margin-bottom: 5px;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 204, 0, 0.4);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn-primary {
            background: linear-gradient(to bottom, #4CAF50, #2E7D32);
            color: white;
        }
        
        .btn-secondary {
            background: linear-gradient(to bottom, #2196F3, #0D47A1);
            color: white;
        }
        
        .btn-warning {
            background: linear-gradient(to bottom, #ff5722, #c41c00);
            color: white;
        }
        
        .arrow-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 10px;
            max-width: 300px;
            margin: 0 auto;
        }
        
        .arrow-btn {
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid #ffcc00;
            border-radius: 10px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.8rem;
            color: #ffcc00;
        }
        
        .arrow-btn.up {
            grid-column: 2;
            grid-row: 1;
        }
        
        .arrow-btn.left {
            grid-column: 1;
            grid-row: 2;
        }
        
        .arrow-btn.down {
            grid-column: 2;
            grid-row: 2;
        }
        
        .arrow-btn.right {
            grid-column: 3;
            grid-row: 2;
        }
        
        .ad-section {
            background: linear-gradient(45deg, #ff8c00, #ff2d55);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            text-align: center;
            display: none;
        }
        
        .ad-content {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        
        .ad-text {
            font-size: 1.1rem;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .ad-timer {
            font-size: 1.1rem;
            background: rgba(0, 0, 0, 0.5);
            padding: 8px 15px;
            border-radius: 50px;
            display: inline-block;
        }
        
        @media (max-height: 700px) {
            .header {
                padding: 5px;
            }
            
            .title {
                font-size: 1.2rem;
            }
            
            .stat-box {
                padding: 5px 8px;
                min-width: 70px;
            }
            
            .stat-label {
                font-size: 0.7rem;
            }
            
            .stat-value {
                font-size: 1.2rem;
            }
            
            .btn {
                padding: 8px 3px;
                font-size: 0.8rem;
                min-height: 50px;
            }
            
            .btn i {
                font-size: 1.2rem;
            }
            
            .arrow-btn {
                height: 50px;
                font-size: 1.5rem;
            }
        }
        
        @media (max-width: 400px) {
            .main-buttons {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .btn {
                font-size: 0.8rem;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="header">
        <div class="title">ğŸ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø«Ø¹Ø¨Ø§Ù† Ù„Ù„Ø¬ÙˆØ§Ù„</div>
        <div class="stats">
            <div class="stat-box">
                <div class="stat-label">Ø§Ù„Ù†Ù‚Ø§Ø·</div>
                <div id="score" class="stat-value">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Ø§Ù„Ø£Ø¹Ù„Ù‰</div>
                <div id="highScore" class="stat-value">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Ø§Ù„Ø­ÙŠØ§Ø©</div>
                <div id="lives" class="stat-value">3</div>
            </div>
        </div>
    </div>
    
    <div class="game-container">
        <canvas id="gameCanvas"></canvas>
    </div>
    
    <div class="controls-bottom">
        <div class="main-buttons">
            <button id="startBtn" class="btn btn-primary">
                <i class="fas fa-play"></i> Ø¨Ø¯Ø¡
            </button>
            <button id="pauseBtn" class="btn btn-secondary">
                <i class="fas fa-pause"></i> Ø¥ÙŠÙ‚Ø§Ù
            </button>
            <button id="restartBtn" class="btn btn-warning">
                <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø©
            </button>
            <button id="helpBtn" class="btn btn-secondary">
                <i class="fas fa-question"></i> Ù…Ø³Ø§Ø¹Ø¯Ø©
            </button>
        </div>
        
        <div class="arrow-controls">
            <div class="arrow-btn up" id="upBtn">
                <i class="fas fa-arrow-up"></i>
            </div>
            <div class="arrow-btn left" id="leftBtn">
                <i class="fas fa-arrow-left"></i>
            </div>
            <div class="arrow-btn down" id="downBtn">
                <i class="fas fa-arrow-down"></i>
            </div>
            <div class="arrow-btn right" id="rightBtn">
                <i class="fas fa-arrow-right"></i>
            </div>
        </div>
        
        <div class="ad-section" id="adContainer">
            <div class="ad-content">
                <div class="ad-text">Ø´Ø§Ù‡Ø¯ Ø¥Ø¹Ù„Ø§Ù†Ù‹Ø§ Ù„ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ø­ÙŠØ§Ø© Ø¥Ø¶Ø§ÙÙŠØ©!</div>
                <div class="ad-timer" id="adTimer">5</div>
            </div>
            <button id="adBtn" class="btn btn-secondary" style="width:100%;">
                <i class="fas fa-ad"></i> Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø¢Ù†
            </button>
        </div>
    </div>

    <script>
        // ØªÙ‡ÙŠØ¦Ø© Ø¹Ù†Ø§ØµØ± DOM
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreElement = document.getElementById('score');
        const highScoreElement = document.getElementById('highScore');
        const livesElement = document.getElementById('lives');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const restartBtn = document.getElementById('restartBtn');
        const helpBtn = document.getElementById('helpBtn');
        const adContainer = document.getElementById('adContainer');
        const adBtn = document.getElementById('adBtn');
        const adTimer = document.getElementById('adTimer');
        const upBtn = document.getElementById('upBtn');
        const downBtn = document.getElementById('downBtn');
        const leftBtn = document.getElementById('leftBtn');
        const rightBtn = document.getElementById('rightBtn');
        
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        const gridSize = 20;
        let tileCount;
        let canvasSize;
        let snake = [];
        let food = {};
        let dx = 0;
        let dy = 0;
        let score = 0;
        let highScore = localStorage.getItem('snakeHighScore') || 0;
        let lives = 3;
        let gameSpeed = 150;
        let gameInterval;
        let gameRunning = false;
        let gamePaused = false;
        let adCountdown;
        
        // ØªÙ‡ÙŠØ¦Ø© Ø­Ø¬Ù… Ø§Ù„Ù„ÙˆØ­Ø©
        function initCanvasSize() {
            const container = document.querySelector('.game-container');
            const size = Math.min(container.clientWidth, container.clientHeight * 0.8);
            canvas.width = size;
            canvas.height = size;
            canvasSize = size;
            tileCount = Math.floor(canvasSize / gridSize);
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‚ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„
            if (gameRunning) {
                resetGame();
            } else {
                drawGame();
            }
        }
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function init() {
            // ØªØ¹ÙŠÙŠÙ† Ø­Ø¬Ù… Ø§Ù„Ù„ÙˆØ­Ø©
            initCanvasSize();
            window.addEventListener('resize', initCanvasSize);
            
            // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ©
            highScoreElement.textContent = highScore;
            livesElement.textContent = lives;
            
            // ØªØ¹ÙŠÙŠÙ† Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            startBtn.addEventListener('click', startGame);
            pauseBtn.addEventListener('click', togglePause);
            restartBtn.addEventListener('click', restartGame);
            helpBtn.addEventListener('click', showHelp);
            adBtn.addEventListener('click', showAd);
            
            // ØªØ¹ÙŠÙŠÙ† Ø£Ø­Ø¯Ø§Ø« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ø³Ù‡Ù…
            upBtn.addEventListener('click', () => changeDirection(0, -1));
            downBtn.addEventListener('click', () => changeDirection(0, 1));
            leftBtn.addEventListener('click', () => changeDirection(-1, 0));
            rightBtn.addEventListener('click', () => changeDirection(1, 0));
            
            // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¶ØºØ·Ø§Øª Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
            document.addEventListener('keydown', handleKeyPress);
            
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„ÙˆØ­Ø©
            drawGame();
        }
        
        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function startGame() {
            if (gameRunning) return;
            
            resetGame();
            gameRunning = true;
            gamePaused = false;
            startBtn.disabled = true;
            pauseBtn.textContent = "Ø¥ÙŠÙ‚Ø§Ù";
            pauseBtn.innerHTML = '<i class="fas fa-pause"></i> Ø¥ÙŠÙ‚Ø§Ù';
            adContainer.style.display = "none";
            
            gameInterval = setInterval(gameLoop, gameSpeed);
        }
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function restartGame() {
            clearInterval(gameInterval);
            gameRunning = false;
            startBtn.disabled = false;
            adContainer.style.display = "none";
            startGame();
        }
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„Ø¹Ø¨Ø©
        function resetGame() {
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø«Ø¹Ø¨Ø§Ù†
            snake = [
                {x: Math.floor(tileCount/2), y: Math.floor(tileCount/2)},
                {x: Math.floor(tileCount/2)-1, y: Math.floor(tileCount/2)},
                {x: Math.floor(tileCount/2)-2, y: Math.floor(tileCount/2)}
            ];
            
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø·Ø¹Ø§Ù…
            generateFood();
            
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø§ØªØ¬Ø§Ù‡
            dx = 1;
            dy = 0;
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†ØªÙŠØ¬Ø©
            score = 0;
            scoreElement.textContent = score;
            lives = 3;
            livesElement.textContent = lives;
        }
        
        // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø·Ø¹Ø§Ù… ÙÙŠ Ù…ÙƒØ§Ù† Ø¹Ø´ÙˆØ§Ø¦ÙŠ
        function generateFood() {
            food = {
                x: Math.floor(Math.random() * tileCount),
                y: Math.floor(Math.random() * tileCount)
            };
            
            // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø·Ø¹Ø§Ù… Ù„Ø§ ÙŠØ¸Ù‡Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø«Ø¹Ø¨Ø§Ù†
            for (let segment of snake) {
                if (segment.x === food.x && segment.y === food.y) {
                    return generateFood();
                }
            }
        }
        
        // Ø­Ù„Ù‚Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        function gameLoop() {
            if (gamePaused) return;
            
            moveSnake();
            checkCollision();
            drawGame();
        }
        
        // Ø­Ø±ÙƒØ© Ø§Ù„Ø«Ø¹Ø¨Ø§Ù†
        function moveSnake() {
            // Ø¥Ø¶Ø§ÙØ© Ø±Ø£Ø³ Ø¬Ø¯ÙŠØ¯
            const head = {x: snake[0].x + dx, y: snake[0].y + dy};
            snake.unshift(head);
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£ÙƒÙ„ Ø§Ù„Ø·Ø¹Ø§Ù…
            if (head.x === food.x && head.y === food.y) {
                // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø©
                score += 10;
                scoreElement.textContent = score;
                
                // ØªÙˆÙ„ÙŠØ¯ Ø·Ø¹Ø§Ù… Ø¬Ø¯ÙŠØ¯
                generateFood();
            } else {
                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø°ÙŠÙ„ Ø¥Ø°Ø§ Ù„Ù… ÙŠØ£ÙƒÙ„
                snake.pop();
            }
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØµØ§Ø¯Ù…
        function checkCollision() {
            const head = snake[0];
            
            // Ø§Ù„ØªØµØ§Ø¯Ù… Ù…Ø¹ Ø§Ù„Ø¬Ø¯Ø±Ø§Ù†
            if (head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount) {
                loseLife();
                return;
            }
            
            // Ø§Ù„ØªØµØ§Ø¯Ù… Ù…Ø¹ Ø§Ù„Ø°ÙŠÙ„
            for (let i = 1; i < snake.length; i++) {
                if (head.x === snake[i].x && head.y === snake[i].y) {
                    loseLife();
                    return;
                }
            }
        }
        
        // ÙÙ‚Ø¯Ø§Ù† Ø­ÙŠØ§Ø©
        function loseLife() {
            lives--;
            livesElement.textContent = lives;
            
            if (lives > 0) {
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ø¹ Ø­ÙŠØ§Ø© Ø£Ù‚Ù„
                resetGame();
            } else {
                // Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©
                gameOver();
            }
        }
        
        // Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function gameOver() {
            clearInterval(gameInterval);
            gameRunning = false;
            startBtn.disabled = false;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ©
            if (score > highScore) {
                highScore = score;
                highScoreElement.textContent = highScore;
                localStorage.setItem('snakeHighScore', highScore);
            }
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ù…ÙƒØ§ÙØ¦
            adContainer.style.display = "block";
            startAdCountdown();
        }
        
        // Ø¨Ø¯Ø¡ Ø¹Ø¯ ØªÙ†Ø§Ø²Ù„ÙŠ Ù„Ù„Ø¥Ø¹Ù„Ø§Ù†
        function startAdCountdown() {
            let count = 5;
            adTimer.textContent = count;
            
            adCountdown = setInterval(() => {
                count--;
                adTimer.textContent = count;
                
                if (count <= 0) {
                    clearInterval(adCountdown);
                    showAd();
                }
            }, 1000);
        }
        
        // Ø±Ø³Ù… Ø§Ù„Ù„Ø¹Ø¨Ø©
        function drawGame() {
            // Ø®Ù„ÙÙŠØ© Ø³ÙˆØ¯Ø§Ø¡
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Ø±Ø³Ù… Ø§Ù„Ø«Ø¹Ø¨Ø§Ù†
            snake.forEach((segment, index) => {
                ctx.fillStyle = index === 0 ? '#4CAF50' : '#8BC34A';
                ctx.fillRect(
                    segment.x * gridSize, 
                    segment.y * gridSize, 
                    gridSize - 1, 
                    gridSize - 1
                );
                
                // Ø±Ø³Ù… Ø§Ù„Ø¹ÙŠÙˆÙ† Ù„Ù„Ø±Ø£Ø³
                if (index === 0) {
                    ctx.fillStyle = '#000';
                    const eyeSize = 3;
                    if (dx === 1) { // ÙŠÙ…ÙŠÙ†
                        ctx.fillRect(
                            (segment.x * gridSize) + gridSize - 7, 
                            (segment.y * gridSize) + 5, 
                            eyeSize, 
                            eyeSize
                        );
                        ctx.fillRect(
                            (segment.x * gridSize) + gridSize - 7, 
                            (segment.y * gridSize) + gridSize - 9, 
                            eyeSize, 
                            eyeSize
                        );
                    } else if (dx === -1) { // ÙŠØ³Ø§Ø±
                        ctx.fillRect(
                            (segment.x * gridSize) + 4, 
                            (segment.y * gridSize) + 5, 
                            eyeSize, 
                            eyeSize
                        );
                        ctx.fillRect(
                            (segment.x * gridSize) + 4, 
                            (segment.y * gridSize) + gridSize - 9, 
                            eyeSize, 
                            eyeSize
                        );
                    } else if (dy === 1) { // Ø£Ø³ÙÙ„
                        ctx.fillRect(
                            (segment.x * gridSize) + 5, 
                            (segment.y * gridSize) + gridSize - 7, 
                            eyeSize, 
                            eyeSize
                        );
                        ctx.fillRect(
                            (segment.x * gridSize) + gridSize - 9, 
                            (segment.y * gridSize) + gridSize - 7, 
                            eyeSize, 
                            eyeSize
                        );
                    } else { // ÙÙˆÙ‚
                        ctx.fillRect(
                            (segment.x * gridSize) + 5, 
                            (segment.y * gridSize) + 4, 
                            eyeSize, 
                            eyeSize
                        );
                        ctx.fillRect(
                            (segment.x * gridSize) + gridSize - 9, 
                            (segment.y * gridSize) + 4, 
                            eyeSize, 
                            eyeSize
                        );
                    }
                }
            });
            
            // Ø±Ø³Ù… Ø§Ù„Ø·Ø¹Ø§Ù…
            ctx.fillStyle = '#FF5252';
            ctx.beginPath();
            ctx.arc(
                food.x * gridSize + gridSize/2, 
                food.y * gridSize + gridSize/2, 
                gridSize/2 - 2, 
                0, 
                Math.PI * 2
            );
            ctx.fill();
            
            // ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø·Ø¹Ø§Ù…
            ctx.strokeStyle = '#FF9800';
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            ctx.arc(
                food.x * gridSize + gridSize/2, 
                food.y * gridSize + gridSize/2, 
                gridSize/2 + 2, 
                0, 
                Math.PI * 2
            );
            ctx.stroke();
        }
        
        // ØªØºÙŠÙŠØ± Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø«Ø¹Ø¨Ø§Ù†
        function changeDirection(newDx, newDy) {
            if (!gameRunning || gamePaused) return;
            
            // Ù…Ù†Ø¹ Ø§Ù„Ø§Ù†Ø¹ÙƒØ§Ø³ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
            if ((dx !== 0 && newDx !== 0) || (dy !== 0 && newDy !== 0)) return;
            
            dx = newDx;
            dy = newDy;
        }
        
        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¶ØºØ·Ø§Øª Ø§Ù„Ù…ÙØ§ØªÙŠØ­
        function handleKeyPress(e) {
            if (!gameRunning || gamePaused) return;
            
            switch(e.key) {
                case 'ArrowUp':
                    changeDirection(0, -1);
                    break;
                case 'ArrowDown':
                    changeDirection(0, 1);
                    break;
                case 'ArrowLeft':
                    changeDirection(-1, 0);
                    break;
                case 'ArrowRight':
                    changeDirection(1, 0);
                    break;
                case ' ':
                    togglePause();
                    break;
            }
        }
        
        // Ø¥ÙŠÙ‚Ø§Ù/Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function togglePause() {
            if (!gameRunning) return;
            
            gamePaused = !gamePaused;
            if (gamePaused) {
                pauseBtn.innerHTML = '<i class="fas fa-play"></i> Ù…ØªØ§Ø¨Ø¹Ø©';
            } else {
                pauseBtn.innerHTML = '<i class="fas fa-pause"></i> Ø¥ÙŠÙ‚Ø§Ù';
            }
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ù…ÙƒØ§ÙØ¦
        function showAd() {
            clearInterval(adCountdown);
            adBtn.disabled = true;
            adBtn.innerHTML = '<i class="fas fa-sync fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ´ØºÙŠÙ„...';
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
            show_9644756().then(() => {
                // Ø¨Ø¹Ø¯ Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
                adBtn.disabled = false;
                adBtn.innerHTML = '<i class="fas fa-ad"></i> Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø¢Ù†';
                adContainer.style.display = "none";
                
                // Ù…Ù†Ø­ Ù…ÙƒØ§ÙØ£Ø© (Ø­ÙŠØ§Ø© Ø¥Ø¶Ø§ÙÙŠØ©)
                lives = 1;
                livesElement.textContent = lives;
                
                // Ø¨Ø¯Ø¡ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©
                startGame();
            });
        }
        
        // Ø¯Ø§Ù„Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ù…ÙƒØ§ÙØ¦
        function show_9644756() {
            return new Promise((resolve) => {
                // Ù…Ø­Ø§ÙƒØ§Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù„Ù…Ø¯Ø© 3 Ø«ÙˆØ§Ù†ÙŠ
                setTimeout(() => {
                    // ØªÙ†ÙÙŠØ° Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                    alert('Ù„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ø­ÙŠØ§Ø© Ø¥Ø¶Ø§ÙÙŠØ©!');
                    resolve();
                }, 3000);
            });
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
        function showHelp() {
            alert("ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©:\n\n" +
                  "1. Ø§Ø³ØªØ®Ø¯Ù… Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ø³Ù‡Ù… Ù„Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø«Ø¹Ø¨Ø§Ù†\n" +
                  "2. ÙƒÙ„ Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„Ø£Ø­Ù…Ø± Ù„Ø²ÙŠØ§Ø¯Ø© Ø·ÙˆÙ„Ùƒ ÙˆÙ†Ù‚Ø§Ø·Ùƒ\n" +
                  "3. ØªØ¬Ù†Ø¨ Ø§Ù„Ø§ØµØ·Ø¯Ø§Ù… Ø¨Ø§Ù„Ø¬Ø¯Ø±Ø§Ù† Ø£Ùˆ Ø¨Ø¬Ø³Ù…Ùƒ\n" +
                  "4. Ù„Ø¯ÙŠÙƒ 3 Ø­ÙŠØ§Ø©ØŒ ÙˆØ¹Ù†Ø¯ ÙÙ‚Ø¯Ø§Ù†Ù‡Ø§ Ø¬Ù…ÙŠØ¹Ø§Ù‹ ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø´Ø§Ù‡Ø¯Ø© Ø¥Ø¹Ù„Ø§Ù† Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø­ÙŠØ§Ø©\n" +
                  "5. Ø§Ø³ØªØ®Ø¯Ù… Ø²Ø± Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù/Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ù„Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ø¤Ù‚ØªØ§Ù‹");
        }
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.onload = init;
    </script>
</body>
</html>
